<!DOCTYPE html>
<html lang="en">

<head>
	<title>blogLoader</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@500&family=Roboto:wght@500&display=swap"
		rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Bangers&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@100;200;300;400;500;700;900&display=swap"
		rel="stylesheet">
	<script src="https://kit.fontawesome.com/8d492bd0d1.js" crossorigin="anonymous"></script>
	<link rel="stylesheet" type="text/css" href="style.css">
	<link rel="stylesheet" type="text/css" href="navigation.css">
	<style>
		h1,
		h2,
		h3,
		h4,
		h5,
		h6 {
			margin: 0;
		}

		#content {
			padding: 6px 12px 6px 12px;
			margin: 6px 6px 0px 0px;
			font-size: 16px;
			font-family: 'Roboto', sans-serif;
			transition: 0.3s;
		}
		
		@media only screen and (min-width: 1200px) {
			#content {
				margin: auto;
				width: calc(64%);
			}
		}
	</style>

</head>


<body>
	<div id="content">
		hehe
	</div>
	<script type="module">
		import { parseMarkdown } from '/weblog/parser.js';

		async function fetchAndDisplayFile() {
			const urlParams = new URLSearchParams(window.location.search);
			const fileName = '/weblog/' + urlParams.get('blog');
			console.log(fileName);

			try {
				const response = await fetch(fileName);
				if (!response.ok) {
					throw new Error('Network response was not ok');
				}
				const markdownText = await response.text();
				const htmlText = parseMarkdown(markdownText);
				document.getElementById('content').innerHTML = htmlText;
			} catch (error) {
				console.error('Error fetching file content:', error);
			}
		}

		fetchAndDisplayFile();
	</script>
</body>

</html>