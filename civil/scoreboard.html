<!doctype html>
<html>

<head>
	<title>Scoreboard Generator</title>
	<script type="text/javascript" src="https://nahinbinkaysar.github.io/civil/html2canvas.min.js"></script>
	<script type="text/javascript" src="https://nahinbinkaysar.github.io/civil/FileSaver.js"></script>
	<link rel="stylesheet"
		href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
	<style>
		@import url('https://fonts.googleapis.com/css2?family=Arvo:wght@400;700&family=Raleway:wght@800&family=Sen:wght@400;700&display=swap');
		@import url('https://fonts.googleapis.com/css2?family=Heebo:wght@800&display=swap');
		@import url('https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@300&display=swap');
		@import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@500&display=swap');
		@import url('https://fonts.googleapis.com/css2?family=DM+Sans&family=Noto+Color+Emoji&display=swap');

		body {
			font-family: 'Sen', sans-serif;
			background-color: #ffffff;
		}

		.thumbDiv {
			width: 2040px;
			height: 1360px;
			background-color: rgb(255, 255, 255);
			border: 1px solid rgba(255, 255, 255, 0);
			zoom: 0.4;
		}


		.wrapper {
			position: absolute;
			display: flex;
			flex-direction: column;
			margin-left: 44px;
			margin-top: 152px;
			width: 320px;
			align-items: center;
		}

		.wrapper1 {
			position: relative;
			display: flex;
			left: 600px;
			top: 420px;
			width: 1220px;
			height: auto;
			flex-direction: column;
			align-items: center;
		}

		.wrapper2 {
			position: relative;
			display: flex;
			flex-direction: row;
			top: 50px;
			justify-content: space-between;
		}

		.scoreboard {
			display: flex;
			flex-direction: row;
			justify-content: space-evenly;
			height: 300px;
		}

		.oneDiv {
			display: flex;
			flex-direction: row-reverse;
			align-items: center;
			width: 610px;
			height: 300px;
		}

		.twoDiv {
			display: flex;
			flex-direction: row;
			align-items: center;
			width: 610px;
			height: 300px;
		}

		.teamScore {
			font-size: 160px;
			font-family: 'Sen', serif;
			font-weight: 600;
			padding: 32px;
		}

		.teamName {
			font-size: 64px;
			font-family: 'Sen', serif;
			font-weight: 200;
			padding: 16px;
		}

		.goalNassist {
			position: relative;
			top: 60px;
			width: 1000px;
			height: 256px;
			font-size: 42px;
			font-family: 'DM Sans', sans-serif;
			font-family: 'Noto Color Emoji', sans-serif;
		}

		.goalDiv {
			display: flex;
			justify-content: space-between;
			white-space: pre-wrap;
		}


		.wrapper3 {
			position: relative;
			display: flex;
			flex-direction: row;
			align-items: center;
			font-family: 'DM Sans', sans-serif;
			font-size: 42px;
		}

		.material-symbols-outlined {
			font-size: 48px;
			font-variation-settings:
				'FILL' 0,
				'wght' 400,
				'GRAD' 0,
				'opsz' 48
		}

		.date {
			position: relative;
			font-size: 42px;
		}

		.mom {
			position: relative;
		}
	</style>
</head>

<body>

	<h1>Scoreboard Generator ver 1.2(09/06/2023)</h1>
	<form action="javascript:;" onsubmit="generate(this)">
		<label for="one">Team #1</label>
		<input type="text" id="one" name="one"><br>
		<label for="oneScore">Team #1 Score</label>
		<input type="number" id="oneScore" name="oneScore"><br><br>
		<label for="two">Team #2</label>
		<input type="text" id="two" name="two"><br>
		<label for="twoScore">Team #2 Score</label>
		<input type="number" id="twoScore" name="twoScore"><br><br>

		<label for="oneGoal">Team #1 Goals</label>
		<textarea id="oneGoal" name="oneGoal" rows="2" cols="20"></textarea><br>
		<label for="oneGoal">Team #1 Assist</label>
		<textarea id="oneAssist" name="oneAssist" rows="2" cols="20"></textarea><br>

		<label for="twoGoal">Team #2 Goals</label>
		<textarea id="twoGoal" name="twoGoal" rows="2" cols="20"></textarea><br>
		<label for="twoGoal">Team #2 Assist</label>
		<textarea id="twoAssist" name="twoAssist" rows="2" cols="20"></textarea><br>

		<label for="twoGoal">Font Size</label>
		<input style="width: 30px;" type='button' value="+" onclick='fonttt("+");'>
		<input style="width: 30px;" type='button' value="-" onclick='fonttt("-");'>
		<input style="width: 100px;" type='button' value="reset" onclick='fonttt("r");'><br />

		<label for="date">Date:</label>
		<input type="date" id="date" name="date"><br>
		<label for="mom">mom</label>
		<input type="text" id="mom" name="mom"><br><br>
		<input type="submit" value="⛶ Generate"><br><br>
	</form>






	<div class='thumbDiv' id='container'>
		<img style="position: absolute; opacity: 1;" src="bg.png">
		<div class="wrapper1">
			<div class="wrapper2">
				<div class="scoreboard">
					<div class="oneDiv">
						<div class="teamScore oneScore">10</div>
						<div class="teamName one">Santiago BernaBUET</div>
					</div>
					<div class="twoDiv">
						<div class="teamScore twoScore">10</div>
						<div class="teamName two">Santiago BernaBUET</div>
					</div>
				</div>

			</div>
			<div class="goalNassist">
				<div class="goalDiv">
					<div class="oneGoal">Players Name</div>
					<div class="twoGoal">Players Name</div>
				</div>
				<div class="goalDiv">
					<div class="oneAssist">Players Name</div>
					<div class="twoAssist">Players Name</div>
				</div>
			</div>
			<div style="height: 50px;"></div>
			<div class="wrapper3">
				<div>Man of the Match:</div>
				<div class="mom">mom</div>
			</div>
			<div style="height: 20px;"></div>
			<div class="wrapper3">
				<span class="material-symbols-outlined">
					calendar_month
				</span>
				<div class="date">Date</div>
			</div>
			<div class="wrapper3">
				<span class="material-symbols-outlined">
					pin_drop
				</span>
				<div class="date">BUET Central Field</div>
			</div>
		</div>
	</div>







	<br>
	<input type='button'
		style="height: auto;width: auto; padding:10px; background-color:green; color: white; border-radius: 16px; font-size: larger;font-family: 'Sen', sans-serif;"
		id='but_screenshot' value='⇩ Download' onclick='screenshot();'><br />


	<br>
	<br>
	<h3>made by Nahin Bin Kaysar, for BUET Premier League</h3>
	<!-- Script -->
	<script type='text/javascript'>
		/**
		 * Convert a base64 string in a Blob according to the data and contentType.
		 * 
		 * @param b64Data {String} Pure base64 string without contentType
		 * @param contentType {String} the content type of the file i.e (image/jpeg - image/png - text/plain)
		 * @param sliceSize {Int} SliceSize to process the byteCharacters
		 * @see http://stackoverflow.com/questions/16245767/creating-a-blob-from-a-base64-string-in-javascript
		 * @return Blob
		 */
		function b64toBlob(b64Data, contentType, sliceSize) {
			contentType = contentType || '';
			sliceSize = sliceSize || 512;

			var byteCharacters = atob(b64Data);
			var byteArrays = [];

			for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {
				var slice = byteCharacters.slice(offset, offset + sliceSize);

				var byteNumbers = new Array(slice.length);
				for (var i = 0; i < slice.length; i++) {
					byteNumbers[i] = slice.charCodeAt(i);
				}

				var byteArray = new Uint8Array(byteNumbers);

				byteArrays.push(byteArray);
			}

			var blob = new Blob(byteArrays, {
				type: contentType
			});
			return blob;
		}

		// Generate screenshot and download
		var element = document.getElementById('container');

		var date;
		var date2;

		var one;
		var two;
		var oneScore;
		var twoScore;
		var oneGoal;
		var twoGoal;
		var oneAssist;
		var twoAssist;
		var mom;

		var fileName;

		function screenshot() {
			html2canvas(element).then(function (canvas) {
				// Generate the base64 representation of the canvas
				var base64image = canvas.toDataURL("image/png");

				// Split the base64 string in data and contentType
				var block = base64image.split(";");
				// Get the content type
				var mimeType = block[0].split(":")[1]; // In this case "image/png"
				// get the real base64 content of the file
				var realData = block[1].split(",")[1]; // For example:  iVBORw0KGgouqw23....

				// Convert b64 to blob and store it into a variable (with real base64 as value)
				var canvasBlob = b64toBlob(realData, mimeType);

				// Generate file download
				window.saveAs(canvasBlob, fileName);
			});
		}
		function fonttt(a) {
			txt = document.getElementsByClassName('goalNassist')[0];
			style = window.getComputedStyle(txt, null).getPropertyValue('font-size');
			currentSize = parseFloat(style);
			if (a == "+") txt.style.fontSize = (currentSize + 5) + 'px';
			if (a == "-") txt.style.fontSize = (currentSize - 5) + 'px';
			if (a == "r") txt.style.fontSize = 42 + 'px';
		}
		function generate() {
			one = document.getElementById('one').value.toUpperCase();
			two = document.getElementById('two').value.toUpperCase();
			oneScore = document.getElementById('oneScore').value.toUpperCase();
			twoScore = document.getElementById('twoScore').value.toUpperCase();
			oneGoal = document.getElementById('oneGoal').value.toUpperCase();
			twoGoal = document.getElementById('twoGoal').value.toUpperCase();
			oneAssist = document.getElementById('oneAssist').value.toUpperCase();
			twoAssist = document.getElementById('twoAssist').value.toUpperCase();
			date = document.getElementById('date').value;
			date2 = date[8] + date[9] + '/' + date[5] + date[6] + '/' + date[0] + date[1] + date[2] + date[3];
			mom = document.getElementById('mom').value.toUpperCase();





			fileName = one + '_' + two + '_' + date + '.png'

			document.getElementsByClassName('one')[0].innerHTML = one;
			document.getElementsByClassName('two')[0].innerHTML = two;
			document.getElementsByClassName('oneScore')[0].innerHTML = oneScore;
			document.getElementsByClassName('twoScore')[0].innerHTML = twoScore;

			for (let i = 0; i < oneGoal.length; i++) oneGoal = oneGoal.replace(";", "⚽\n");
			for (let i = 0; i < twoGoal.length; i++) twoGoal = twoGoal.replace(";", "⚽\n");
			for (let i = 0; i < oneAssist.length; i++) oneAssist = oneAssist.replace(";", "👟\n");
			for (let i = 0; i < twoAssist.length; i++) twoAssist = twoAssist.replace(";", "👟\n");
			document.getElementsByClassName('oneGoal')[0].innerHTML = oneGoal;
			document.getElementsByClassName('twoGoal')[0].innerHTML = twoGoal;
			document.getElementsByClassName('oneAssist')[0].innerHTML = oneAssist;
			document.getElementsByClassName('twoAssist')[0].innerHTML = twoAssist;


			document.getElementsByClassName('date')[0].innerHTML = date2;
			document.getElementsByClassName('mom')[0].innerHTML = mom;
		}

	</script>

</body>

</html>
